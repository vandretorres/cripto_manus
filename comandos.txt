python -m venv venv # criar ambiente virtual
.\venv\Scripts\activate.bat 



 C:\ibov-ml-XGBoost>python src/simulation_xgb.py --evaluate data/simulations/purchase_2025-05-25.csv



Claro! Aqui est√° a **lista completa dos comandos** para executar manualmente **cada m√≥dulo** do pipeline `ibov-ml-XGBoost`:

---

Claro! Aqui est√° a documenta√ß√£o atualizada da **sequ√™ncia de execu√ß√£o do pipeline refinado**, com todos os comandos, explica√ß√µes e os scripts atualizados:

---

## üöÄ **Pipeline Completo ‚Äî Vers√£o Refinada**

| N¬∫  | Etapa                                               | Comando a Executar                                                                          |
| --- | --------------------------------------------------- | ------------------------------------------------------------------------------------------- |
| 1Ô∏è‚É£ | **Coleta de dados OHLCV**                           | `python src/fetch_all_ohlcv_salva_todos.py`                                                 |
| 2Ô∏è‚É£ | **Gera√ß√£o de indicadores t√©cnicos**                 | `python src/features_completo.py`                                                           |
| 3Ô∏è‚É£ | **Gera√ß√£o de labels (3d, 5d, 10d)**                 | `python src/label_completo.py`                                                              |
| 4Ô∏è‚É£ | **Merge features + labels**                         | `python src/merge_features_labels.py`                                                       |
| 5Ô∏è‚É£ | **Treinamento XGBoost com GridSearchCV refinado**   | `python src/model_xgb_grid_refinado.py`                                                     |
| 6Ô∏è‚É£ | **Infer√™ncia com modelos refinados**                | `python src/inference_xgb_refinado.py --threshold 0.5`                                      |
| 7Ô∏è‚É£ | **Simula√ß√£o de compras (R\$10.000)**                | `python src/simulation_xgb_refinado.py --capital 10000`                                     |
| 8Ô∏è‚É£ | **Avalia√ß√£o da simula√ß√£o (pre√ßo atual de mercado)** | `python src/evaluate_simulation.py --input data/simulations/purchase_2025-06-07_165211.csv` |
| üîÅ  | **Execu√ß√£o completa automatizada (opcional)**       | *(em desenvolvimento: `main.py` ou shell script batch)*                                     |

---

### üìå Explica√ß√µes:

* **Etapas 1‚Äì4**: Preparam os dados com hist√≥ricos de pre√ßos, indicadores t√©cnicos, gera√ß√£o de labels (targets) e unifica√ß√£o em um √∫nico dataset por ativo.
* **Etapa 5**: Treina um modelo por ativo com valida√ß√£o e otimiza√ß√£o de hiperpar√¢metros.
* **Etapa 6**: Gera os sinais de compra baseados no threshold de probabilidade (ex: `0.5` = m√≠nimo de 50% de confian√ßa).
* **Etapa 7**: Simula uma compra distribu√≠da dos ativos recomendados com capital fixo.
* **Etapa 8**: Compara os resultados da simula√ß√£o com os pre√ßos atuais para calcular rentabilidade.

---

Se quiser, posso gerar esse conte√∫do em `.md` ou `.pdf` com formata√ß√£o pronta. Deseja isso?
